(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{10:function(e,t,a){e.exports={weatherMini:"WeatherMini_weatherMini__2ytq6",time:"WeatherMini_time__2J1PU",info:"WeatherMini_info__kDFdl",description:"WeatherMini_description__38F2J",temp:"WeatherMini_temp__yw7y-"}},14:function(e,t,a){e.exports={main:"Main_main__2pBZY",modal:"Main_modal__2IQCg",show:"Main_show__1KZQX",modal__inner:"Main_modal__inner__lj196",modalButton:"Main_modalButton__QNCjM",form:"Main_form__ILKv7",input:"Main_input__9GnDt",button:"Main_button__1wMhg"}},15:function(e,t,a){e.exports={modal:"Searching_modal__2--iL",show:"Searching_show__1Eh4E",modal__inner:"Searching_modal__inner__dJs8h",modalButton:"Searching_modalButton__237xp",form:"Searching_form__1agIb",input:"Searching_input__2RAIX",button:"Searching_button__3JvOF"}},16:function(e,t,a){e.exports={weeksForecast:"WeeksForecast_weeksForecast__3z5K2",title:"WeeksForecast_title__2T7yx",dayTitle:"WeeksForecast_dayTitle__3rsRb"}},25:function(e,t,a){e.exports={wrapper:"Loader_wrapper__31iDg",lds_ellipsis:"Loader_lds_ellipsis__37aWF","lds-ellipsis1":"Loader_lds-ellipsis1___IXiu","lds-ellipsis2":"Loader_lds-ellipsis2__1BHRS","lds-ellipsis3":"Loader_lds-ellipsis3__o_JNa"}},45:function(e,t,a){},46:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(36),i=a.n(c),r=(a(45),a(19)),s=a(3),o=(a(46),a(0)),l=function(){return Object(o.jsx)("nav",{className:"#1a237e indigo darken-4",children:Object(o.jsxs)("div",{className:"nav-wrapper wrap",children:[Object(o.jsx)("span",{className:"brand-logo logo left",children:"Weather"}),Object(o.jsx)("ul",{id:"nav-mobile",className:"right",children:Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/",children:"Home"})})})]})})},d=function(){return Object(o.jsx)("footer",{className:"page-footer",children:Object(o.jsxs)("span",{className:"date",children:["\xa9 ",(new Date).getFullYear()," Copyright Text"]})})},u=a(40),m=a(11),j=a(39).create({baseURL:"https://api.openweathermap.org/data/2.5/"}),_=function(e,t){return j.get("weather?lat=".concat(e,"&lon=").concat(t,"&units=metric&lang=ru&appid=cc18a59ba650a72c11bd301426b930eb"))},h=function(e){return j.get("weather?q=".concat(e,"&units=metric&lang=ru&appid=cc18a59ba650a72c11bd301426b930eb"))},b=function(e){return j.get("forecast?q=".concat(e,"&lang=ru&units=metric&appid=471fb871540b1cabfd3ed0bce031cb0d")).then((function(e){return e.data.list}))},f=a(9),p=a.n(f),O=a.p+"static/media/cloudy-night.4a43954d.svg",x=a.p+"static/media/thunder.19ff3c30.svg",g=a.p+"static/media/drizzle.44fb8223.svg",w=a.p+"static/media/rainy.130d6250.svg",v=a.p+"static/media/snowy.dce3f5e7.svg",k=a.p+"static/media/day.c33ef664.svg",y=function(e){var t;switch(e.icon){case"Clouds":t=O;break;case"Thunderstorm":t=x;break;case"Drizzle":t=g;break;case"Rain":t=w;break;case"Snow":t=v;break;default:t=k}return Object(o.jsx)("div",{className:p.a.weatherBlock,onClick:function(){return e.setWeekForecast({isOpen:!0,city:e.name})},children:Object(o.jsxs)("div",{className:p.a.weather,children:[" ",e.deleteCity&&Object(o.jsx)("div",{className:p.a.delete,children:Object(o.jsx)("button",{className:p.a.button,onClick:function(){return e.deleteCity(e.name)},children:"X"})}),Object(o.jsx)("div",{className:p.a.location,children:e.name}),Object(o.jsxs)("div",{className:p.a.mainInfo,children:[Object(o.jsx)("div",{className:p.a.img,children:Object(o.jsx)("img",{src:t,alt:""})}),Object(o.jsx)("div",{className:p.a.temp,children:Math.round(e.temp)+"\xb0C"})]}),Object(o.jsx)("div",{className:p.a.weatherType,children:e.weather}),Object(o.jsxs)("div",{className:p.a.feelsLike,children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",Math.round(e.feels_like),"\xb0C"]})]})})},N=a(14),W=a.n(N),S=function(e){var t=e.isFixed?"".concat(W.a.main," ").concat(W.a.fixed):"".concat(W.a.main);return Object(o.jsxs)("div",{className:t,children:[Object(o.jsx)(y,{name:e.currentGeo.name,temp:e.currentGeo.temp,weather:e.currentGeo.weather,feels_like:e.currentGeo.feels_like,icon:e.currentGeo.icon,setWeekForecast:e.setWeekForecast}),e.locations.map((function(t){return Object(o.jsx)(y,{deleteCity:e.deleteCity,name:t.name,temp:t.temp,weather:t.weather,feels_like:t.feels_like,icon:t.icon,setWeekForecast:e.setWeekForecast})})),e.isSearching?Object(o.jsx)("button",{className:W.a.modalButton,onClick:function(){return e.setIsSearching(!1)},children:"-"}):Object(o.jsx)("button",{className:W.a.modalButton,onClick:function(){return e.setIsSearching(!0)},children:"+"})]})},F=a(25),M=a.n(F),I=function(){return Object(o.jsx)("div",{className:M.a.wrapper,children:Object(o.jsxs)("div",{className:M.a.lds_ellipsis,children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})})},C=a(15),B=a.n(C),L=function(e){return Object(o.jsx)("div",{className:B.a.modal,children:Object(o.jsx)("div",{className:B.a.modal__inner,children:Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=t.target.cityName.value.trim();a&&(e.getWeatherByName(a),t.target.cityName.value="",e.setIsSearching(!1))},className:B.a.form,children:[Object(o.jsx)("input",{name:"cityName",type:"text",className:B.a.input,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e..."}),Object(o.jsx)("button",{type:"submit",className:B.a.button,children:"\u041f\u043e\u0438\u0441\u043a"})]})})})},T=a(16),D=a.n(T),E=a(10),G=a.n(E),J=(a.p,function(e){var t;switch(e.data.weather.main){case"Clouds":t=O;break;case"Thunderstorm":t=x;break;case"Drizzle":t=g;break;case"Rain":t=w;break;case"Snow":t=v;break;default:t=k}return Object(o.jsxs)("div",{className:G.a.weatherMini,children:[Object(o.jsx)("div",{className:G.a.time,children:e.data.time}),Object(o.jsxs)("div",{className:G.a.info,children:[Object(o.jsx)("div",{className:G.a.img,children:Object(o.jsx)("img",{src:t,alt:""})}),Object(o.jsx)("div",{className:G.a.temp,children:Math.round(e.data.temp)+"\xb0C"})]}),Object(o.jsxs)("div",{className:G.a.weather,children:[Object(o.jsx)("p",{className:G.a.description,children:e.data.weather.description}),Object(o.jsx)("p",{className:G.a.description,children:"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: "+Math.round(e.data.feels_like)})]})]})}),z=a(76),R=a(75),P=(a(72),function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:D.a.weeksForecast,children:e.week.length>0?Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:D.a.title,children:e.city}),e.week.map((function(e){return e.data.length>0&&e.day!=(new Date).toLocaleString("ru",{weekday:"long"})?Object(o.jsxs)("div",{className:D.a.day,children:[Object(o.jsx)("div",{className:D.a.dayTitle,children:e.day}),Object(o.jsx)("div",{className:D.a.dayItems,children:Object(o.jsx)(z.a,{spaceBetween:50,slidesPerView:1,initialSlide:4,breakpoints:{600:{slidesPerView:2}},children:e.data.map((function(e){return Object(o.jsx)(R.a,{children:Object(o.jsx)(J,{data:e})})}))})})]}):null}))]}):Object(o.jsx)(I,{})})})}),X=function(e,t){return new Date(e.dt_txt).toLocaleString("ru",{weekday:"long"})==t},A=function(e){return e.map((function(e){return{time:new Date(e.dt_txt).toLocaleString("ru",{month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric"}),temp:e.main.temp,feels_like:e.main.feels_like,weather:e.weather[0]}}))},K=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){b(e.city).then((function(e){var t=[{day:"\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",data:A(e.filter((function(e){return X(e,"\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a")})))},{day:"\u0432\u0442\u043e\u0440\u043d\u0438\u043a",data:A(e.filter((function(e){return X(e,"\u0432\u0442\u043e\u0440\u043d\u0438\u043a")})))},{day:"\u0441\u0440\u0435\u0434\u0430",data:A(e.filter((function(e){return X(e,"\u0441\u0440\u0435\u0434\u0430")})))},{day:"\u0447\u0435\u0442\u0432\u0435\u0440\u0433",data:A(e.filter((function(e){return X(e,"\u0447\u0435\u0442\u0432\u0435\u0440\u0433")})))},{day:"\u043f\u044f\u0442\u043d\u0438\u0446\u0430",data:A(e.filter((function(e){return X(e,"\u043f\u044f\u0442\u043d\u0438\u0446\u0430")})))},{day:"\u0441\u0443\u0431\u0431\u043e\u0442\u0430",data:A(e.filter((function(e){return X(e,"\u0441\u0443\u0431\u0431\u043e\u0442\u0430")})))},{day:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435",data:A(e.filter((function(e){return X(e,"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435")})))}];i(t)}))}),[]),Object(o.jsx)(P,{city:e.city,week:c})},Y=function(){var e=Object(n.useState)(!0),t=Object(m.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({}),r=Object(m.a)(i,2),s=r[0],l=r[1],d=Object(n.useState)(!1),j=Object(m.a)(d,2),b=j[0],f=j[1],p=Object(n.useState)({isOpen:!1,city:null}),O=Object(m.a)(p,2),x=O[0],g=O[1],w=Object(n.useState)([]),v=Object(m.a)(w,2),k=v[0],y=v[1];Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){_(e.coords.latitude,e.coords.longitude).then((function(e){var t=e.data.main,a=t.temp,n=t.feels_like,i=e.data.name,r=e.data.weather[0],s=r.description,o=r.main;l({temp:a,feels_like:n,name:i,description:s,icon:o}),c(!1)}),(function(){alert("\u041e\u0448\u0438\u0431\u043a\u0430! \u0412\u044b \u043d\u0435 \u0434\u0430\u043b\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0433\u0435\u043e-\u043f\u043e\u0437\u0438\u0446\u0438\u0438!")}))}))}),[]),Object(n.useEffect)((function(){(JSON.parse(localStorage.getItem("locations"))||[]).forEach((function(e){return N(e)}))}),[]),Object(n.useEffect)((function(){localStorage.setItem("locations",JSON.stringify(k.map((function(e){return e.name}))))}),[k]);var N=function(e){k.some((function(t){return t.name===e}))?alert("\u0412\u044b \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0433\u043e\u0440\u043e\u0434 ".concat(e)):(c(!0),h(e).then((function(t){var a=t.data.main,n=a.temp,i=a.feels_like,r=t.data.weather[0],s=r.description,o=r.main;y((function(t){return[{temp:n,feels_like:i,name:e,description:s,icon:o,id:1}].concat(Object(u.a)(t))})),c(!1)})).catch((function(t){alert("\u0413\u043e\u0440\u043e\u0434 ".concat(e," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d :("))})))};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(o.Fragment,{children:[a?Object(o.jsx)(I,{}):Object(o.jsx)(S,{currentGeo:s,setIsSearching:f,isSearching:b,locations:k,deleteCity:function(e){y((function(t){return t.filter((function(t){return t.name!==e}))}))},setWeekForecast:g,isFixed:x.isOpen}),b&&Object(o.jsx)(L,{setIsSearching:f,getWeatherByName:N}),x.isOpen&&Object(o.jsx)(K,{city:x.city,isOpen:x.isOpen})]})})},Z=function(){return Object(o.jsx)("h1",{children:"Page not found"})},q=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(r.a,{basename:"/weather",children:[Object(o.jsx)(l,{}),Object(o.jsx)("main",{className:"container content",children:Object(o.jsxs)(s.c,{children:[Object(o.jsx)(s.a,{exact:!0,path:"/",component:Y}),Object(o.jsx)(s.a,{component:Z})]})}),Object(o.jsx)(d,{})]})})};i.a.render(Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(q,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={weatherBlock:"Weather_weatherBlock__1Ydp5",cold:"Weather_cold__G_vYZ",warm:"Weather_warm__2oEaH",hot:"Weather_hot__2d59y",weather:"Weather_weather__39I_z",location:"Weather_location__2XTW6",mainInfo:"Weather_mainInfo__2FbEA",img:"Weather_img__30-l_",temp:"Weather_temp__Md9VW",weatherType:"Weather_weatherType__1yOrA",feelsLike:"Weather_feelsLike__2rZhF",delete:"Weather_delete__2b2dF",button:"Weather_button__1_0AK",close:"Weather_close__2GaI1"}}},[[73,1,2]]]);
//# sourceMappingURL=main.e7f98cbe.chunk.js.map